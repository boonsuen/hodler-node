<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">    
    <link href="fonts/Manrope-Medium.woff2" rel="preload" as="font" type="font/woff2" crossorigin>
    <link href="fonts/Manrope-ExtraBold.woff2" rel="preload" as="font" type="font/woff2" crossorigin>
    <link rel="icon" href="img/logo.svg">
    <link href="css/normalize.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">
    <script>
      (function() {
        if (!location.href.endsWith('/') && location.pathname === '/hodler-serverful') {
          window.location = location.href + '/';
        }
      }())
    </script>
    <title>Hodler Serverful</title>
  </head>
  <body>
    <div class="header">
      <div class="links">
        <a href="https://github.com/boonsuen/hodler-serverful" target="_blank" rel="noopener noreferrer">
          <img src="img/github.svg">
        </a>
        <a href="https://twitter.com/_wnxn" target="_blank" rel="noopener noreferrer">
          <img src="img/twitter.svg">
        </a>
      </div>
      <img class="logo" src="img/logo.svg">
      <div class="title">Hodler</div>
    </div>
    <div class="switch">
      {{#if isMainView}}
        <a class="active" href=".">Main</a>
        <a class="not-active" href="./watching">Watching</a>
      {{else}}
        <a class="not-active" href=".">Main</a>
        <a class="active" href="./watching">Watching</a>
      {{/if}}
    </div>
    <table class="price-table">
      <thead>
        <tr class="row-head">
          <th class="name">Name</th>
          <th class="price">Price</th>
          <th class="change">Change</th>
        </tr>
      </thead>
      <tbody>
        {{#each coinsDataToRender}}
          <tr>
            <td>{{this.name}} ({{toUpperCase this.symbol}})</td>
            {{evaluateIfBitcoin this.id this.usd this.btc}}
            <td class="pc">{{this.usd_24h_change}}</td>
          </tr>
        {{/each}}
      </tbody>
    </table>
    <script>
    const pcElem = document.getElementsByClassName("pc");
    for (let elem of pcElem) {
      let price = Number(elem.textContent);
      if (price > 0) {
        elem.style.color = "#4ae264";
      } else if (price < 0) {
        elem.style.color = "#ff8282";
      }
    }
    </script>
  </body>
</html>
